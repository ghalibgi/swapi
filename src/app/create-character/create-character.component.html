<div class="page-container">
  <h2 class="title">Cr√©e ton propre personnage Star Wars x  !</h2>

  <form (ngSubmit)="generateCharacter()" class="character-form">
    <label>
      Nom du personnage :
      <input type="text" [(ngModel)]="character.name" name="name" required />
    </label>

    <label>
      Genre :
      <select [(ngModel)]="character.gender" name="gender">
        <option value="male">Masculin</option>
        <option value="female">F√©minin</option>
        <option value="other">Autre</option>
      </select>
    </label>

    <label>
      Esp√®ce :
      <select [(ngModel)]="character.species" name="species">
        @for (spec of speciesList; track spec) {
          <option [value]="spec">{{ spec }}</option>
        }
      </select>
    </label>

    <label>
      Langue parl√©e :
      <select [(ngModel)]="character.language" name="language">
        @for (lang of languages; track lang) {
          <option [value]="lang">{{ lang }}</option>
        }
      </select>
    </label>

    <label>
      Taille (cm) :
      <input type="number" [(ngModel)]="character.height" name="height" />
    </label>

    <label>
      Couleur des yeux :
      <input type="text" [(ngModel)]="character.eye_color" name="eye_color" />
    </label>

    <label>
      Couleur de cheveux :
      <input type="text" [(ngModel)]="character.hair_color" name="hair_color" />
    </label>

    <label>
      Plan√®te d'origine :
      <select [(ngModel)]="character.homeworld" name="homeworld">
        @for (planet of planets; track planet) {
          <option [value]="planet">{{ planet }}</option>
        }
      </select>
    </label>

    <button type="submit" [disabled]="isLoading">‚ú® G√©n√©rer l‚Äôhistoire</button>
  </form>

  @if (isLoading) {
    <div class="loader-container">
      <div class="loader"></div>
      <p>G√©n√©ration de l‚Äôhistoire galactique en cours...</p>
    </div>
  }

  @if (generatedStory) {
    <div class="result">
      <h3>{{ character.name }}</h3>
      <p><strong>Genre :</strong> {{ character.gender }}</p>
      <p><strong>Esp√®ce :</strong> {{ character.species }}</p>
      <p><strong>Langue :</strong> {{ character.language }}</p>
      <p><strong>Taille :</strong> {{ character.height }} cm</p>
      <p><strong>Yeux :</strong> {{ character.eye_color }}</p>
      <p><strong>Cheveux :</strong> {{ character.hair_color }}</p>
      <p><strong>Plan√®te :</strong> {{ character.homeworld }}</p>

      <h4>üìú Histoire g√©n√©r√©e :</h4>
      <p>{{ generatedStory }}</p>
    </div>
  }
</div>
